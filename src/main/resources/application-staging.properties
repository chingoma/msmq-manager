# Staging Profile Configuration
# This file contains staging-specific settings

# Database Configuration
spring.datasource.url=jdbc:postgresql://staging-msmq-server:5432/msmq_manager
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.username=postgres
spring.datasource.password=${DB_PASSWORD:Approved12@}

# JPA Configuration
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
logging.level.org.hibernate.SQL=OFF
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=OFF

# Staging Logging
logging.level.com.enterprise.msmq=INFO
logging.level.org.springframework.web=INFO

# Staging MSMQ
msmq.connection.host=staging-msmq-server
msmq.connection.port=1801
msmq.connection.timeout=30000
msmq.connection.retry-attempts=3
msmq.security.encryption=false

# ============================================================================
# MSMQ Email Notification Configuration
# ============================================================================

# Enable/disable email notifications globally
msmq.email.notifications.enabled=true

# Email retry configuration
msmq.email.notifications.max-retries=3
msmq.email.notifications.retry-delay-ms=5000

# Default email configuration (staging environment)
spring.mail.host=smtp.office365.com
spring.mail.port=587
spring.mail.username=alerts@yourcompany.com
spring.mail.password=${EMAIL_PASSWORD:staging_email_password}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# Email connection timeouts (increased for reliability)
spring.mail.properties.mail.smtp.connectiontimeout=20000
spring.mail.properties.mail.smtp.timeout=20000
spring.mail.properties.mail.smtp.writetimeout=20000

# Email template configuration
msmq.email.templates.subject.prefix=[MSMQ STAGING]
msmq.email.templates.from.name=MSMQ Staging System
msmq.email.templates.from.email=alerts@yourcompany.com

# Mailing list defaults
msmq.email.mailing-lists.default.name=Staging Team
msmq.email.mailing-lists.default.description=Staging mailing list for system alerts
msmq.email.mailing-lists.default.recipients=staging@yourcompany.com,qa@yourcompany.com

# Alert filtering defaults
msmq.email.alerts.default.severities=ERROR,WARNING
msmq.email.alerts.default.types=QUEUE_DELETED,PERFORMANCE_DEGRADATION,SYNC_FAILURE
