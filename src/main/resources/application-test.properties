# Testing Profile Configuration
# This file contains testing-specific settings

# Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/msmq_manager_test
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.username=postgres
spring.datasource.password=Approved12@

# JPA Configuration
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
logging.level.org.hibernate.SQL=OFF
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=OFF

# Testing Logging
logging.level.com.enterprise.msmq=INFO
logging.level.org.springframework.web=INFO

# Testing MSMQ
msmq.connection.type=POWERSHELL  # Use PowerShell for easier testing and debugging
msmq.connection.host=test-msmq-server
msmq.connection.port=1801
msmq.connection.timeout=5000
msmq.connection.retry-attempts=2
msmq.security.encryption=false

# ============================================================================
# MSMQ Email Notification Configuration
# ============================================================================

# Enable/disable email notifications globally (disabled for tests)
msmq.email.notifications.enabled=false

# Email retry configuration
msmq.email.notifications.max-retries=1
msmq.email.notifications.retry-delay-ms=1000

# Default email configuration (test environment)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=test@yourcompany.com
spring.mail.password=test-password
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# Email connection timeouts (shorter for tests but reasonable)
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Email template configuration
msmq.email.templates.subject.prefix=[MSMQ TEST]
msmq.email.templates.from.name=MSMQ Test System
msmq.email.templates.from.email=test@yourcompany.com

# Mailing list defaults
msmq.email.mailing-lists.default.name=Test Team
msmq.email.mailing-lists.default.description=Test mailing list for development alerts
msmq.email.mailing-lists.default.recipients=test@yourcompany.com

# Alert filtering defaults
msmq.email.alerts.default.severities=ERROR,WARNING
msmq.email.alerts.default.types=QUEUE_DELETED,PERFORMANCE_DEGRADATION,SYNC_FAILURE
